// TODO Remove white, grey, black
	$black: #000 !default;
	$white: #fff !default;
	$grey: #f6f6f6 !default;

@import 'satori/_variables';
@import 'satori/mixins/mixins';

@import 'satori/layouts/_basic-mobile';
@import 'satori/layouts/_dashboard';
@import 'satori/layouts/_large-template';
@import 'satori/layouts/_new-dashboard';
@import 'satori/layouts/_personal';

.clearfix {
  zoom: 1; // For IE 6/7 (trigger hasLayout)

  &:before, &:after {
    content: "";
    display: table;
  }

  &:after {
    clear:both;
  }
}

.container {
	@extend .clearfix;
	padding: $default-spacing;
}

.width-container {
	padding: 0 $default-spacing;
}

/*
	Remember that order matters, so bg-* should be at the bottom inorder to overwrite default background
	choices (e.g. class="success bg-grey").
*/

// TODO Go through everything below and make sure it conforms to variables

.button-text {
  float: left;
  display: inline-block;
  border: 1px solid transparent;
  margin: 0.5em 0;
  padding: 0em 0.5em;
  font-size: 1em;
}

.icon-text {
	padding: 0.5em;
	margin: 0 $default-spacing;
}

.note {
    font-style: italic;
    color: $grey;
    font-size: 0.9em;
}

.small {
    font-size: 0.75em;
}

.pct25 { width: 25%; }
.pct33 { width: 33.3333%; }
.pct50 { width: 50%; }
.pct66 { width: 66.6666%; }
.pct75 { width: 75%; }

.auto { width: auto; }
.full { width: 100%; }

.toolbar {
	@extend .box;
	
    ul {
        list-style: none;
        padding: 0.5em 0;
  
      li {
        display: inline-block;
        border-right: 1px solid $border;
        margin: 0;
        padding: 0 0.5em;
    
        &:nth-last-of-type(1) {
          border-right: none;
        }
      }
    }

    a {
      display: block;
      padding: 0.5em 0.5em $default-spacing;
      border-bottom: $default-spacing solid transparent;
      color: $grey;
      text-decoration: none;
  
      &:hover, &:focus {
        border-bottom: $default-spacing solid $primary;
      }
    } 
}

.hor-toolbar {
	@include border($border);
    margin: 0.5em;

    h1, h2, h3, h4, h5, h6 {
        color: $grey;
        padding-bottom: 0;
    }

    ul {
        list-style: none;
    }

    li {
        margin: 0;
    
        &:nth-last-of-type(1) {
            border-bottom: none;
        }
    }

    a {
        display: inline-block;
        margin: $default-spacing $default-spacing $default-spacing 0em;
        padding: $default-spacing;
        border-left: $default-spacing solid $grey;
        color: $grey;
        text-decoration: none;
    
        &:hover, &:focus {
            border-color: $primary;
        }
    }
}

.clear { clear: both; }

.grid-box {
    @extend .box;
    padding: 0 !important;

    .cell {
        @extend .clearfix;
        display: block;
        border-bottom: 1px solid $border;
    }

	a.cell {
	        text-decoration: none;
		
	        &:hover, &:focus {
	            background-color: $grey;
		    }
	}

	&.zebra {
		.cell {
			&:nth-child(even) {
				background: $grey;
			}
		}
	}
}

.error, .success, .delete, .save {
    a {
        color: inherit;
    
        &:hover, &:focus {
            color: $black;
        }
    }
}

.left { float: left; }
.right { float: right; }

.bottom-right {
	position: absolute;
	right: 0;
	bottom: 0;
}

.text-center { text-align: center; }
.text-left { text-align: left; }
.text-right { text-align: right; }

.relative { position: relative; }

.hidden { display: none; }

.panel-header {
    border-bottom: 1px solid $grey;
    cursor: pointer;
}

.menu-header {
    cursor: pointer;

    &.active {
        background: $white;
    }
}

.menu-body {
	@include border($border);

    position: absolute;
    background: $white;
    z-index: 1000;

    ul {
        list-style: none;
        padding: 0;
    }

    li {
        margin: 0;
    }

    a {
        display: block;
        border-bottom: 1px solid $border;
        padding: 0.5em;
        text-decoration: none;
    }
}

.mobile-icon {
	@include border(transparent);
	margin: 4px;
	display: inline-block;
	vertical-align: middle;
	width: 32px;
	height: 32px;
	position: relative;
	cursor: pointer;

	// hide text
	overflow: hidden;
	text-indent: 100%;
	white-space: nowrap;

	&:hover, &:focus {
		background-color: $grey;
	} 

	& .count {
		text-indent: 0;
		display: block;
		color: $white;
		background: $error;
		position: absolute;
		border-radius: 50%;
		left: 25%;
		top: 25%;
		height: 50%;
		width: 50%;
		font-size: 0.75rem;
		line-height: 1rem;
		text-align: center;
	}

	&.trash {
		//@include border($border);
	
		background-image: url($base-path + '/satori/icons/trash.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}

	&.menu {
		//@include border($border);
	
		background-image: url($base-path + '/satori/icons/list 2.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}

	&.edit {
		//@include border($border);
	
		background-image: url($base-path + '/satori/icons/file 2.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}

	&.alerts {
		//@include border($border);
	
		background-image: url($base-path + '/satori/icons/bell.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}

	&.messages {
		//@include border($border);
	
		background-image: url($base-path + '/satori/icons/email 2.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}

	&.cancel, &.close {
		//@include border($border);
	
		background-image: url($base-path + '/satori/icons/error 1.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}

	&.facebook {
		//@include border($border);
	
		background-image: url($base-path + '/satori/social-icons/facebook.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}

	&.twitter {
		//@include border($border);
	
		background-image: url($base-path + '/satori/social-icons/twitter.png');
		background-repeat: no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;
	}
}

.actions {
	@extend .clearfix;
	@extend .container;

	input[type=submit], button {
		width: auto;
		margin: 0 0.25em;
	
		&:nth-child-of-type(1) {
			margin-left: none;
		}
	}
}

.float-label, .field {
	@extend .clearfix;
	@extend .container;

	position: relative;
	display: block;

	label {
		position: absolute;
		display: block;
		padding: 0.25rem $default-spacing 0;
		color: $border;
		line-height: 1em;
		z-index: 2;
		white-space: nowrap;
		font-size: 0.75em;
	}

	input, textarea, select, .fake-input {
		position: relative;
		padding: 1rem $default-spacing 0.25rem !important;
		margin: 0 !important;
		height: 2.5rem !important;
		z-index: 1;
	}

	.fake-input {
		@extend input;
		display: block !important;
		background: $grey;
	}

	textarea {
		height: 4.75rem !important;
	}
}

.datetime {
	input {
		width: auto;
	}
}

#display-tooltip {
	display: none;
	position: absolute;
	top: 0;
	left: 0;
	z-index: 1000;
	background: $white;
	@include border($border);

	h1, h2, h3, h4, h5, h6, .header {
		white-space: nowrap;
	}
}

a.primary, button.primary, input.primary {
    border: none;
    background: $primary !important;
    color: $white !important;
    cursor: pointer;

    &:hover, &:focus {
        background: $black !important;
    }

    &:visited {
        color: $white;
    }
}

a.secondary, button.secondary, input.secondary {
    border: none;
    background: $secondary !important;
    color: $white !important;
    cursor: pointer;

    &:hover, &:focus {
        background: $black !important;
    }

    &:visited {
        color: $white;
    }
}

.save, .add {
    background: $success !important;
	color: $white !important;
    cursor: pointer;

    &:hover, &:focus {
        background: $black !important;
    }

}

.delete {
    background: $error !important;
    color: $white !important;
    cursor: pointer;

    &:hover, &:focus {
        background: $black !important;
    }
}

.button.trash {
	@extend .delete;
}

.button.new {
	@extend .add;
}

.page-title {
	border-bottom: 1px solid $background;
}

.no-border {
	border: none !important;
	box-shadow: none !important;
}

.no-top-margin {
	margin-top: 0px;
}

.nowrap {
	white-space: nowrap;
}


// rails specific
.button_to {
	display: inline-block;
}

.header-search-field {
	padding: $default-spacing;
	overflow: hidden;
	position: relative;

	input[type=text] {
		line-height: 2em;
		margin: 0;
		padding: $default-spacing;
	}

	input[type=submit] {
		background: url($base-path + '/satori/icons/search.png') $input no-repeat;
		background-position: 50% 50%;
		background-size: 24px 24px;

		border: 1px solid $border !important;
		border-radius: 0 $border-radius $border-radius 0;
		text-indent: -250px;
		
		@include box-shadow(none);

		position: absolute;
		right: $default-spacing;
		top: $default-spacing;

		width: calc(48px);
		padding: $default-spacing;

		&:hover, &:focus {
			background-color: $grey;
		}
	}
}

.px40 {
	height: 2.5rem;
}

.soft-container {
	max-width: 1200px;
	margin: 0 auto;
	@extend .clearfix;
}

.splash {
	margin: 0 -100%; // TODO fix this, -100% "only" goes out to 3600px
}

.nav {
  @extend .clearfix;
  
  ul {
      list-style: none;
      padding: 0;
	  overflow: hidden;
	  white-space: nowrap;
  }

  li {
      display: inline-block;
      margin: 0;
  }
  
  &.right {
      li {
          float: right;
      }
  }
  
  a {
    display: inline-block;
    padding: 0.5em 0.5em .25em;
    border-bottom: 0.25em solid transparent;
    color: $grey;
    text-decoration: none !important;
    
    &:hover, &:focus {
      border-bottom: 0.25em solid $primary;
    }
  }
  
  &.bg-primary {
	  a {
		  &:hover, &:focus {
		      border-bottom: 0.25em solid $white;
		  }
	  }
  }
  
  &.bg-background {
	  a {
		  &:hover, &:focus {
			  color: $primary;
		      border-bottom: 0.25em solid $primary;
		  }
	  }
  }
  
  &.bg-black {
	  a {
		  &:hover, &:focus {
			  color: $white;
		      border-bottom: 0.25em solid $grey;
		  }
	  }
  }
}

.box.nav {
	li {
		display: block;
	}
	
	a {
		display: block;
		margin: 0 0.5em;
	}
}
  
.button-nav {
	@extend .clearfix;
	margin: 0.25em;

	ul {
	    list-style: none;
	    padding: 0;
	}

	li {
	    float: left;
		margin: 0.25em 0.25em 0.25em 0;

		&:last-child {
			margin-left: 0.25em !important;
		}
	}

	a {
		display: inline-block;
		font-size: 1em;
		padding: 0.5em;
		border-radius: 3px;
		color: $grey;
		text-decoration: none;

		&:hover, &:focus {
			background: $grey;
			color: $text;
			text-decoration: none !important;
		}
	}
}

// BOXES
.box {
	display: block;
	@include border($border);
	@include box-shadow($border);
	
	overflow: hidden;
	margin: $default-spacing;
}

.success {
	@extend .box;
	
	border-left: 4px solid $success;
    background: $white;
}

.error {
	@extend .box;
	
	border-left: 4px solid $error;
    background: $white;
}

.warning {
	@extend .box;
	
	border-left: 4px solid $warning;
    background: $white;
}

.info {
	@extend .box;
	
	border-left: 4px solid $info;
    background: $white;
}
// END BOXES

.box-header {
	margin: 0 0.5em;
	line-height: 1.25em;
	font-family: Lato;
	font-weight: 300;
	border-bottom: 1px solid $grey;
}

.panel {
	&:nth-child(0) {
		border-top: none;
	}
	.header {
		background: $background;
		color: $grey;
		font-weight: bold;
		border-bottom: 1px solid $grey;
		border-top: 1px solid $grey;
		padding: $default-spacing;
		
		a {
			color: $grey;
		}
	}
	ul {
		padding: 0;
		margin: 0;
	
		li {
			padding: 0;
			margin: 0;
			list-style: none;
		
			a {
				display: block;
				padding: $default-spacing;
				color: $grey;
			
				&:hover, &:focus {
					text-decoration: none;
					background: $grey;
					color: $black;
				}
			}
		}
	}	
}

// BACKGROUNDS
.bg-text { @extend .clearfix; background: $text; @extend .white; }
.bg-border { @extend .clearfix; background: $border; @extend .white; }
.bg-background { @extend .clearfix; background: $background; }

.bg-primary { @extend .clearfix; background: $primary; @extend .white; }
.bg-secondary {	@extend .clearfix; background: $secondary; @extend .white; }

.bg-white { @extend .clearfix; background: $white; }
.bg-grey {
	@extend .clearfix;
	background: $grey;
}
.bg-black { @extend .clearfix; background: $black; @extend .white; }

.bg-success { @extend .clearfix; background: $success; @extend .white; }
.bg-info { @extend .clearfix; background: $info; @extend .white; }
.bg-warning { @extend .clearfix; background: $warning; }
.bg-error {	@extend .clearfix; background: $error; @extend .white; }
// END BACKGROUND COLORS

.text-primary {
	color: $primary;
}

.text-secondary {
	color: $secondary;
}

.text-grey {
	color: $grey;
	
	a {
		color: $border;
		
		&:hover, &:focus {
			color: $black;
		}
	}
}

.white {
	color: $white;
  
	a {
	  color: $grey;

	  &:hover, &:focus {
		  color: $white;
		  text-decoration: underline;
	  }
	}
}

.grey, .grey-text {
	color: $grey;
}

.green, .text-green {
  color: $success;
}

.red, .text-red {
    color: $error;
}